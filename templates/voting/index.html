{%load static %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Django Voting App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  
    <body class ="bg-light">
        <nav class="navbar navbar-expand-lg  navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">Django Voting App</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              
                <li class="nav-item">
                  <a class="nav-link" href="#about">About</a>
                <li class= "nav-item">
                <a class ="nav-link" href="#Instructions">Instructions</a>
                </li>
                <li class ="nav-item">
                    <a class ='nav-link' href="#Result">Result</a>
                    </li>
              </ul>
             
            </div>
          </div>
        </nav>
        <div class = "container-fluid" style= "margin-bottom : 25rem;" >
          {{globalcnt}}
           {% for key,value in globalcnt.items %}
          {{key}} - {{value}}
          <br>
          {% endfor %}
            <div class='row'>
                <div class = "col-md-6" style="margin:1rem auto 0 auto;">
                  <img class="img-fluid" src="{% static 'main2.jpg'%}" style="padding: 10%;width:500px;">
                  <div class ='card'>
                    <div class="card-body">
                      <form method ="GET" action="{% url 'getquery' %}">
                        <input list = "languages" class ="form-control" style="margin-bottom: 1rem;" name='languages'>
                        <datalist id ="languages">
                            {%for eachlanguage in arr%}
                            <option value="{{eachlanguage}}">

                            {% endfor %}
                            <option value="Python">
                            <option value="Java">
                            <option value="Javascript">
                            <option value="C++">
                            <option value="C">
                            <option value="PHP">
                            <option value="SQL">
                            <option value="MYSQL">
                            <option value="DotNET">

                            </option>
                        </datalist>
                        <div class = 'row'>
                          <div class='col-md-6'>
                            <input type = "Submit" class = "btn btn-success" style="margin:1rem auto 0 auto;">
                         
                        </div>
                        <div class ="col-md-6">
                          <input type="Reset" class = "btn btn-danger" style="margin:1rem auto 0 auto;">
                        </div>
                        </div>
                      </form>
                    </div>
        
                  </div>
                </div>
                <div class ="row" style="margin-top: 2rem auto 0 auto ;">
                    <div class="col-md-6">
                        <p class =" badge badge-warning" id ="result" name="result" style ="text-align:center; block;font-size:2rem ;background-color:goldenrod;padding:5%;">
                            Result
                          </p>
                          <hr>
                          <p class="lead" style =" text-align: center;">
                            Result Table
                            <a href ="{% url 'sortdata' %}" class ="btn btn-primary">sort Data  in Descending order</a>
                          </p>
                    </div>
                 </div>
                  
                 <div class="row">
                    <div class ="col-md-6">
                        <div class="table-responsive">
                     

                        <table class="table">
                            <thead>
                              <tr>
                                <th scope="col">id</th>
                                <th scope="col">Language</th>
                                <th scope="col">Votes</th>
                               
                              </tr>
                         
                            
                            </thead>
                            <tbody>
                                {% for key,value in globalcnt.items%}
                              <tr>
                                
                                <td>{{forloop.counter}}</td>
                                <td>{{key}}</td>
                                <td>
                                    <div class="progress" role="progressbar" style ="width:{{value}}%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                                        
                                        <div class="progress-bar" style="width: 100%"> {{value}}</div>
                                      </div>
                                    </td>
                              </tr>
                                {% endfor %}
                              
                            </tbody>
                          </table>
                        
                        </div>
                    </div>
                 </div>
              <div class="row">
                <div class="col-md-6" style = "margin : 1rem auto 0 auto;">
                  <p class =" badge badge-success" id ="about" name="about" style ="text-align:center; block;font-size:2rem ;background-color: lawngreen;padding:4%;">
                    About
                  </p>
                  <hr>
                  <p class="lead" style =" text-align: center;">
                    Pick your Favourite language and Vote
                  </p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6" style = "margin : 1rem auto 0 auto;">
                    <p class =" badge badge-danger" id ="about" name="about" style ="text-align:center; block;font-size:2rem ;background-color:red;padding:5%;;">
                        Instructions
                      </p>
                      <hr>
                  <p class ="lead"  style ="text-align: center;">
                    Select your Language and see Results
                  </p>
                 
                </div>
              </div>
        
            </div>
            
            <div class = 'container-fluid' >
              <div class = 'row'>
                <footer class ="fixed-bottom navbar-light" style = "background:black;color:white;text-align:center" >
                  <p>Thanks for using our app</p>
                </footer> 
                </div>
              </div>
           
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  </body>
</html>